<nav-menu nav-text="I want to LEARN / TEACH"
          search-text="{{library.search.$current}}" on-search="library.search"></nav-menu>
<section library-container layout="column" layout-fill layout-align="start center">
  <aside element="title">
    The ORIGINal Library
  </aside>
  <aside element="tab-header" layout="row" layout-align="space-between center">
    <div filter layout="row" layout-align="center center" ng-click="library.showFilter = !library.showFilter">
      <md-icon md-svg-icon="assets/images/filter.svg" style="width: 16px; height: 16px"></md-icon>
      <span>Filter</span>
    </div>
    <div tabs layout="row" layout-align="start start" flex="60">
      <span state="selected">ALL</span>
      <span>A - Z</span>
      <span>Z - A</span>
      <span ng-click="library.refreshListing()">Latest</span>
    </div>
    <div style="margin-right: 0px;">{{library.details.length}} Results Found</div>
  </aside>
  <section library-content layout="row" layout-align="center start">
    <aside element="sidebar-filter"
           layout="column" layout-align="center center"
           ng-show="library.showFilter" ng-if="library.details.length > 0">
      <div filter-widget="grade" layout="column" layout-align="start start">
        <div filter-sub="title">Grade</div>
        <div grade="table">

          <table>
            <tr>
              <td>K</td>
              <td>0</td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
            <tr>
              <td>6</td>
              <td>7</td>
              <td>8</td>
              <td>9</td>
              <td>10</td>
              <td>11</td>
              <td>12</td>
            </tr>

          </table>
        </div>
      </div>
      <div filter-widget="subjects" layout="column" layout-align="start start">
        <div filter-sub="title">Subjects</div>
        <div subjects="checkboxes" layout="column" layout-align="start start">
          <md-checkbox ng-model="library.filter.subject.grammar" aria-label="Grammar">
            Grammar
          </md-checkbox>
          <md-checkbox ng-model="library.filter.subject.language" aria-label="Language">
            Language
          </md-checkbox>
          <md-checkbox ng-model="library.filter.subject.reading" aria-label="Reading">
            Reading
          </md-checkbox>
          <md-checkbox ng-model="library.filter.subject.research" aria-label="Research">
            Research
          </md-checkbox>
          <md-checkbox ng-model="library.filter.subject.speakingListening" aria-label="Speaking and Listening">
            Speaking and Listening
          </md-checkbox>
          <md-checkbox ng-model="library.filter.subject.writing" aria-label="Writing">
            Writing
          </md-checkbox>
        </div>
      </div>
    </aside>
    <aside element="tab-error" layout="row" layout-align="center center" ng-if="library.showError">
      <div>{{library.errorMessage.message}}</div>
      <md-button class="md-icon-button" aria-label="More" ng-click="library.fetchData()">
        <md-icon md-svg-icon="assets/images/refresh.svg" style="color: #00a79d"></md-icon>
      </md-button>
    </aside>
    <aside element="tab-content" layout="row" layout-align="space-between start" layout-wrap=""
           ng-if="library.details.length > 0">
      <div content-listing layout="row" layout-align="space-between center" layout-wrap="">
        <div content-item flex-sm="90" flex-md="32" flex-lg="28" flex-gt-lg="22"
             layout="column" layout-align="center center"
             ng-repeat="item in library.details" ng-click="library.openProduct(item.id)">
          <div thumbnail-container layout="column" layout-align="center center">
            <div item-info="thumbnail" back-img="{{item.coverImage}}"></div>
          </div>
          <div item-meta="info" layout="column" layout-align="center start">
            <div content-item="title">{{item.title | characters:15}}</div>
            <div content-item="author">{{item.author | characters:15 || "hello"}}</div>
          </div>
          <div content-footer="category">
            <span>
              <md-icon md-svg-icon="{{item.category.icon}}"></md-icon>
              <span>{{item.category.name}}</span>
            </span>
          </div>
          <!--<div content-footer="analytics">
            <span><md-icon md-svg-icon="assets/images/share.svg"></md-icon> {{item.analytics.shares}}</span>
            <span><md-icon md-svg-icon="assets/images/eye.svg"></md-icon> {{item.analytics.views}}</span>
          </div>-->
        </div>
      </div>
    </aside>
  </section>
  <section loader ng-if="library.details.length <= 0" ng-hide="library.showError">
    <div class="sk-folding-cube">
      <div class="sk-cube1 sk-cube"></div>
      <div class="sk-cube2 sk-cube"></div>
      <div class="sk-cube4 sk-cube"></div>
      <div class="sk-cube3 sk-cube"></div>
    </div>
  </section>
  <footer ng-if="library.details.length > 0"></footer>
</section>
